<div
  class="portal-container"
  [ngClass]="{ 'sidebar-collapsed': sidebarCollapsed }"
>
  <!-- Sidebar -->
  <aside class="sidebar" [ngClass]="{ collapsed: sidebarCollapsed }">
    <!-- Sidebar Toggle Button -->

    <div class="logo-container">
      <img src="assets/logo.png" alt="Logo" />
    </div>

    <div class="nav-section" *ngIf="!sidebarCollapsed">
      <div class="section-title">Dashboard</div>
      <a routerLink="/dashboard" routerLinkActive="active" class="nav-item">
        <i class="pi pi-home"></i>
        <span>Home</span>
      </a>
    </div>

    <div class="nav-section" *ngIf="!sidebarCollapsed">
      <div class="section-title">Management</div>
      <a routerLink="/people" routerLinkActive="active" class="nav-item">
        <i class="pi pi-users"></i>
        <span>People</span>
      </a>
      <a routerLink="/clients" routerLinkActive="active" class="nav-item">
        <i class="pi pi-briefcase"></i>
        <span>Clients</span>
      </a>
      <a routerLink="/communication" routerLinkActive="active" class="nav-item">
        <i class="pi pi-comments"></i>
        <span>Communication</span>
      </a>
    </div>

    <div class="nav-section" *ngIf="!sidebarCollapsed">
      <div class="section-title">Settings</div>
      <a routerLink="/preferences" routerLinkActive="active" class="nav-item">
        <i class="pi pi-cog"></i>
        <span>Preferences</span>
      </a>
      <button 
        class="sidebar-toggle-btn"
        (click)="toggleSidebar()"
        [attr.aria-label]="
          sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'
        "
        [attr.aria-expanded]="!sidebarCollapsed"
      >
      f
        <i
          class="pi"
          [ngClass]="sidebarCollapsed ? 'pi-angle-right' : 'pi-angle-left'"
        ></i>
      </button>
    </div>

    <!-- Collapsed nav items (icons only) -->
    <div class="collapsed-nav" *ngIf="sidebarCollapsed">
      <a
        routerLink="/dashboard"
        routerLinkActive="active"
        class="nav-item-collapsed"
        title="Dashboard"
      >
        <i class="pi pi-home">Home</i>
      </a>
      <a
        routerLink="/people"
        routerLinkActive="active"
        class="nav-item-collapsed"
        title="People"
      >
        <i class="pi pi-users">People</i>
      </a>
      <a
        routerLink="/clients"
        routerLinkActive="active"
        class="nav-item-collapsed"
        title="Clients"
      >
        <i class="pi pi-briefcase">Clients</i>
      </a>
      <a
        routerLink="/communication"
        routerLinkActive="active"
        class="nav-item-collapsed"
        title="Communication"
      >
        <i class="pi pi-comments">Commu</i>
      </a>
      <a
        routerLink="/preferences"
        routerLinkActive="active"
        class="nav-item-collapsed"
        title="Settings"
      >
        <i class="pi pi-cog">Pref</i>
      </a>
      <button
        class="sidebar-toggle-btn"
        (click)="toggleSidebar()"
        [attr.aria-label]="
          sidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'
        "
        [attr.aria-expanded]="!sidebarCollapsed"
      >
        >
        <i
          class="pi"
          [ngClass]="sidebarCollapsed ? 'pi-angle-right' : 'pi-angle-left'"
        ></i>
      </button>
    </div>
  </aside>

  <!-- Main Content Area -->
  <div class="content-wrapper">
    <!-- Top Navbar -->
    <nav class="navbar">
      <div class="nav-left">
        <button
          class="toggle-sidebar"
          (click)="toggleSidebar()"
          type="button"
          title="Toggle Sidebar"
        >
          <i class="pi pi-bars"></i>
          <span class="sr-only">Toggle Sidebar</span>
        </button>
      </div>

      <div class="nav-middle">
        <a routerLink="/dashboard" routerLinkActive="active">Dashboard</a>
        <a routerLink="/people" routerLinkActive="active">People</a>
        <a routerLink="/clients" routerLinkActive="active">Clients</a>
        <a routerLink="/communication" routerLinkActive="active"
          >Communication</a
        >
      </div>

      <div class="nav-right">
        <div class="user-controls">
          <div class="notifications">
            <i class="pi pi-bell"></i>
            <span class="badge">3</span>
          </div>

          <div
            class="user-avatar"
            routerLink="/preferences"
            routerLinkActive="active"
          >
            <img src="assets/avatar.png" alt="User Avatar" />

            <div class="user-info">
              <div class="user-name">John Doe</div>
              <div class="user-role">Administrator</div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content - Router Outlet -->
    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  </div>
</div>
